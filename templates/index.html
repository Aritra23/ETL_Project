<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

  <link rel="stylesheet" href="/static/style.css">
  <title>Chicago Restaurants</title>
</head>

<body>
  <div class="container">
    <div class='row'>
    <div class='col-sm-12'>
    <div class="jumbotron text-center">

      <h1>Inspection Ratings of Some Chicago Restaurants</h1>
      <h3>Team: Aritra Lahiri, Brenda Daly, Diana Dinshaw</h3>
    </div>
  </div>
  </div>

<!--Extract-->
    <div classs ='row'>
      <div class ='col-sm-4 head'>
      <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo">
        E is for Extract</button>
      <div id="demo" class="collapse">
        
        <p>Our team chose the following datasets:</p>
        

        A CSV File from Kaggle titled<a href='https://www.kaggle.com/chicago/chicago-food-inspections'> 
          Chicago Food Inspection</a>

        <br/>
        <a href='https://developers.google.com/places/web-service/supported_types'>and Googlemaps API </a>
        from where we obtained the rating of the restaurants using the latitude and longitude from the Kaggle CSV file. 
        <br/>
        We chose these datasets because we were interested in comparing the user ratings of a
        restaurant with the inspection scores by the Chicago Department of Public Health.
        <br/>

        <img class='img2' src='/static/Images/chicago.JPG' alt ='Food'></img>

      </div>
    </div>
  
<!--Transform-->
    <div class ='col-sm-4 head'>
      <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo-one">

        T is for Transform</button>
      <div id="demo-one" class="collapse">

        We started by importing the CSV into a PANDAS dataframe. From there we took only the 'Restaurant'
        facility types. Next we did some data cleaning by dropping non pertinent columns and rows
        with NA.
        <br/>
        <br/>
        We ran the Google Places API using the Nearby Search parameter that lets you 
        search for places within a specified area. By referencing the latitude and longitude of the 

        restaurants from the CSV file, we obtained the user rating for each restaurant. 
        
        <br/>
        <img class='img2' src='/static/Images/Transform_screenshot.png' alt ='Transformed Database Screenshot'></img>
        <br/>
        Next we took our transformed data, that were in two separate PANDAS dataframes, and we saved 
        them to CSV files. 

      </div>
    </div>


<!--Load-->
    <div class='col-sm-4 head'>
      <button type="button" class="btn btn-info" data-toggle="collapse" data-target="#demo-two">
        L is for Load</button>

      <div id="demo-two" class="collapse">
        <b>MySQL</b>
        The two CSV files of the PANDAS dataframes, from the transform process, were
        uploaded to MySQL where we joined the tables
        into a final table called inspect_rating_merge.
        This table can now be used to query data and make decsions. 
        For example, which restaurants were 
        rated a high risk by The Chicago Department of Health or 
        despite a high risk rating which 
        restaurants are diner favorites.
        <br/>
       
        <img class='img2' src='/static/Images/Result SQl Table.JPG' alt ='MySQL Table'></img>

        <br/>
        <b>Mongo</b>
        Additionally we converted the inspect_rating_merge table in sql to a CSV file so
        that we could import the table into Mongo. <a href='/load'>Click here</a> to see 
        the restaurants Chicago Health Department rating and diner favorites.
        <br/>
        
      </div>
    </div>


    <div class='row '>
    <div class="col-sm-12">

      <img class= 'img2' src ='/static/Images/restaurants.jpg' alt='Restaurant Image'>

    </div>
    </div>

  </div>
  </div>
</body>